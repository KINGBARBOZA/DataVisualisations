<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8"/>
    <meta name="description" content="PieChart"/>
    <meta name="keywords" content="HTML, CSS"/>
    <link rel="stylesheet" href="style.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" crossorigin="anonymous"/>
    <title>PieChart</title>
    <!--webpage for Website-->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="js/food.js" defer></script>
    <style>
    /*slider css*/

    h1, h2, h3 {
    color: #2c3e50;
    }
    
    body {
        display: flex;
        flex-direction: column;
        background-color: #f8f9fa;
    }

    .slider {
        -webkit-appearance: none;
        width: 35%;
        height: 25px;
        background: #d3d3d3;
        outline: none;
        opacity: 0.7;
        -webkit-transition: .2s;
        transition: opacity .2s;
    }

    .slider:hover {
        opacity: 1;
    }

    .slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 25px;
        height: 25px;
        background: #04AA6D;
        cursor: pointer;
    }

    .slider::-moz-range-thumb {
        width: 25px;
        height: 25px;
        background: #04AA6D;
        cursor: pointer;
    }

    /*Tooltip css*/
    #tooltip {
        position: absolute;
        width: 180px;
        height: auto;
        padding: 10px;
        background-color: rgb(239, 234, 234);
        border-radius: 10px;
        box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        pointer-events: none;
        border: 1px solid black;
        opacity: 0; /* Initial opacity */
        transition: opacity 1s ease; /* Transition speed */
    }

    #tooltip.hidden {
        display: none;
    }

    #tooltip p {
        margin: 0;
        font-family: sans-serif;
        font-size: 14px;
        line-height: 16px;
    }

    #heading {
        font-weight: bold;
    }
    </style>
</head>

<body>
    <div class="content">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container-fluid">
                <a class="navbar-brand" href="index.html">COS30045 Data Visualisations - Julian Giorgilli & Joel Downie</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="alcohol.html">Alcohol Consumption</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="Bar.html">Weight</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="Pie.html">Food Consumption</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
         <!-- Main Content -->
         <div class="container mt-5">
            <h1 class="text-center mb-4">Major food types consumption within New Zealand compared to other first world countries</h1>
            <h2 class="mb-3">Which countries consume more major food groups and macronutrients compared to New Zealand?</h2>
            <br/>
            <h3 class="mb-3" style="display: inline;">Year of recorded data:</h3> <h3 id="year" style="display: inline;">2012</h3>
            <br/>
            <br/>
            <select name="options" id="options">
                <option value="Fat supply">Fat supply</option>
                <option value="Fruits supply">Fruits supply</option>
                <option value="Sugar supply">Sugar supply</option>
                <option value="Vegetables supply">Vegetables supply</option>
                <option value="Calories supply">Calories supply</option>
                <option value="Protein supply">Protein supply</option>
            </select>
            <br/>
            <br/>
            <div id="Pie_chart_location"></div>
            <div class="slidecontainer">
                <input type="range" min="2012" max="2020" value="2012" class="slider" id="myRange">
            </div>
            <div id="tooltip">
                <p><span id="heading">Important Label Heading</span></p>
                <p><span id="value">value of the country</span></p>
            </div>
            <p>
                The above visualizations represent a percentage showing which countries have a higher average consumption of a chosen food supply compared to other first-world countries. 
                20% means the country is roughly eating the average amount of a food type compared to its other countries, and more detailed statistics can be viewed when hovering over a selected country inside the donut chart. 
                Recalling from the weight chart on the previous page that in 2021 New Zealand's population had a 34.3% obesity rate, we can now look into potential causes being their major types of food consumption compared to these
                selected first-world countries. A major contributor to the ever-increasing obesity rates within New Zealand is very likely due to their high sugar diets. 
                It can be seen that from 2012 to 2020, New Zealand has increased its consumption of sugar from 56.7 kg per person each year to 62.1 kg each year, resulting in New Zealand being the biggest consumer of sugars throughout each year compared to other countries. 
                This is quite a significant increase over time while also being an unhealthy amount to be eating for the average person, increasing the risk of diabetes in their people. 
                Remembering Korea's lower obesity rate than New Zealand from the previous page, we can also find that Korea eats far more vegetables than any other country on this list, 
                likely resulting in far lower rates of obesity within their population. Because of these links between food type consumption and average obesity, we believe that New Zealand should try and incorporate 
                less sugary foods into their diets and lean towards healthier alternatives, which will result in improving the general health of their population and reduce the load on 
                diet-related diseases on their healthcare system.
            </p>
        </div>     
    </div>

    <footer class="text-center mt-5 bg-dark text-white">
        <p>Created by: Julian Giorgilli 103618985 & Joel Downie 104540652</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const currentPath = window.location.pathname.split("/").pop();
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                if (link.getAttribute('href') === currentPath) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
